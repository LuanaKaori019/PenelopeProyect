<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penelope</title>
    <link rel="stylesheet" href="css/style.css"> 
    <link rel="icon" href="./Img/icon.jpeg" type="image/x-icon"> 

</head>
    <body>
        <header>
            <h1>Penelope Store</h1>
            <nav>
                <ul class="nav-list">
                    <li><a href="index.html">Volver a inicio</a></li>
                    <li><a href="hogar.html">Hogar y Deco</a></li>
                    <li><a href="envios.html">Envio y Medidas</a></li>
                </ul>
            </nav>
            </header>
    <main>
        <h2>Amigurumis</h2>
<section id="productos">
<div class="producto">
    <img src="./Img/dumbldore.jpeg" alt="Director de Howard">
    <p>Precio: $20.000</p>
    
    <button class="add-to-cart" data-product-id="6" data-product-name="Producto 6" data-product-price="20000">Añadir al carrito</button>

</div>
<div class="producto">
    <img src="./Img/hermione-ron.jpeg" alt="Amigos de HP">
    <p>Precio: $25.00</p>
    
    
    <button class="add-to-cart" data-product-id="7" data-product-name="Producto 7" data-product-price="25000">Añadir al carrito</button>

</div>
<div class="producto">
    <img src="./Img/snape.jpeg" alt="Severus Snape">
    <p>Precio: $15.000</p>
    
    <button class="add-to-cart" data-product-id="8" data-product-name="Producto 8" data-product-price="15000">Añadir al carrito</button>

</div>
<div class="producto">
    <img src="./Img/voldemort.jpeg" alt="Voldemort">
    <p>Precio: $20.000</p>
    <button class="add-to-cart" data-product-id="9" data-product-name="Producto 9" data-product-price="20000">Añadir al carrito</button>
</div>
<div class="producto">
    <img src="./Img/3-harry.jpeg" alt="Harry Potter, Hermione y Ron">
    <p>Precio: $30.000</p>    
    <button class="add-to-cart" data-product-id="10" data-product-name="Producto 10" data-product-price="30000">Añadir al carrito</button>
</div>
<div class="producto">
    <img src="./Img/harriPotter.jpeg" alt="Harry Potter">
    <p>Precio: $20.000</p>    
    <button class="add-to-cart" data-product-id="11" data-product-name="Producto 11" data-product-price="20000">Añadir al carrito</button>
</div>
<div class="producto">
    <img src="./Img/navidad.jpeg" alt="Papa Noel">
    <p>Precio: $20.000</p>    
    <button class="add-to-cart" data-product-id="12" data-product-name="Producto 12" data-product-price="20000">Añadir al carrito</button>
</div>
</section>
</main>
<section class="cart-section">
    <ul id="cart-items"></ul>
    <p id="total-price">Total: $0.00</p>
    <button id="btn-comprar" class="btn-comprar">Comprar</button>
</section>        

<script>
    // Vaciar el carrito en localStorage al cargar la página
    localStorage.removeItem('cart');
    
    const cart = JSON.parse(localStorage.getItem('cart')) || []; // Cargar el carrito del localStorage
    
    // Función para actualizar el carrito en la interfaz
    function updateCart() {
        const cartItems = document.getElementById('cart-items');
        cartItems.innerHTML = ''; // Limpiar lista existente
        let totalPrice = 0;

        cart.forEach(item => {
            const listItem = document.createElement('li');
            listItem.textContent = `${item.name} - Precio: $${item.price}`;
            cartItems.appendChild(listItem);
            totalPrice += item.price;
        });

        document.getElementById('total-price').textContent = `Total: $${totalPrice}`;

        // Guardar el carrito en localStorage
        localStorage.setItem('cart', JSON.stringify(cart));
    }

    // Agregar event listener a los botones
    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', () => {
            const productId = button.getAttribute('data-product-id');
            const productPrice = parseInt(button.getAttribute('data-product-price'));
            const productName = button.getAttribute('data-product-name');

            // Agregar producto al carrito
            cart.push({ id: productId, name: productName, price: productPrice });
            updateCart(); // Actualizar carrito en la interfaz
        });
    });

    // Función para redirigir a envios.html
    document.getElementById('btn-comprar').addEventListener('click', () => {
        // Redirigir a envios.html
        window.location.href = 'envios.html';
    });

    // Llamar a updateCart al cargar la página para mostrar el carrito si hay productos
    updateCart();
</script>


<footer>
<p class="footer">&copy; 2024 Indumentaria Crochet. Todos los derechos reservados.</p>
</footer>
</body>
</html>

